## Git 으로 올리기 전에 제외할 것들

가상환경인 venv 파일이나 개인정보가 들어간 API 키나 토큰 같은 것은 git hub에 올리지 않는 것이 좋다. git으로 올리기 전에 그것들을 제외하는 방법은 여러가지가 있다. 나는 전에 venv 파일을 제외해서 올리는 것에 성공했다.

git bash 를 사용해서 올렸다.

```
 $ vi .gitignore
 ```

이렇게 적으면 입력할 수 있는 창이 뜨는데 그곳에서 제외해야하는 파일 혹은 명을 적으면 된다.

```
venv
```

입력하기 전 a 혹은 i 키를 누르고 제외해야하는 파일 혹은 폴더 명을 누른 뒤에 ESC를 눌러 닫은 후 :wq 를 눌러 저장해주면 된다. 그 뒤 commit을 해주고 push 를 하면 된다.

venv 폴더를 제외하는 방법은 쉬웠다. 그렇다면 API 키를 숨기는 건 어떨까? 오늘 개인 과제를 올리며 API 키를 숨기고 올리려고 여러 시도를 해봤다.

먼저 자바스크립트 파일을 하나 만들었다.(apikey.js)

```javascript
const config = {
	apikey: "api키"
}
```
그런 다음 HTML 파일에 연결해준다. 주로 script에 연결을 한다.

```javascript
<script src="apikey.js"></script>
```

apikey.js에 가서 변수에 config로 생성해주고 url에 ${API_KEY}로 key값 대체해준다.

```javascript
const API_KEY = config.apikey;
```
그 다음 이그노어 파일을 생성.

```
$ touch .git ignore
```

그 다음은 위에서 사용하던 방법을 사용하면 된다. 하지만 아쉽게도 나는 이 방법이 먹히지 않았다. key 값을 바꾸자마자 API가 넘어오지 않았다. 하는 수 없이 방법을 찾아보다가 dotenv를 설치했는데...

```
npm install dotenv
```

설치를 끝내니 여러개의 파일이 생겼다. 그중 가장 상위 디렉토리에 .evn 파일을 설치한 후 


```javascript
require('dotenv').config(); 
```

를 사용해서 .env 파일에 환경변수로 KEY 값을 숨기려고 했는데 역시나 잘 되지 않았다. window 여서 인지 가끔 node에서 오류가 많이 나서 안될 것 같다고 생각했지만 막상 정말 오류가 나니 짜증이 났다. 

하는 수 없이 그 다음 방법을 찾다가 유투브에서 파이썬 확장으로 API 키를 숨기는 것을 보고 따라했다. 

```
pip install python-dotenv
```

아까 쓰던 것과 같았지만 파이썬 확장이라 이번에는 되지 않을까 했는데 버전이 다르다는 오류가 났다. 파이썬을 업뎃 했지만 계속해서 오류가 나서 삭제하고 다시 설치했는데도 오류가 나서 포기했다. 

결국 최후의 수단으로 window 환경설정을 사용하기로 했다.

- "시스템 속성" 또는 "내 컴퓨터"에서 마우스 오른쪽 버튼을 클릭하고 "속성"을 선택.
- "고급 시스템 설정"을 클릭.
- "환경 변수" 버튼을 클릭.
- "시스템 변수" 섹션에서 "새로 만들기"를 클릭.
- 변수 이름에는 원하는 이름을 입력하고, 변수 값에는 API 키 값을 입력.
- "확인"을 클릭하여 변수를 저장.

그런 다음 js 파일을 만들었다.

```javascript
const apiKey = window.env.API_KEY;
document.getElementById('api-key').textContent = apiKey;
```

js 파일에는 이렇게 적어준 뒤

```javascript
<script src="apikey.js"></script>
```
html 파일에는 이렇게 적어주면 된다고 했지만 역시 실패했다. 심지어 권장되지 않는 윈도우 환경변수를 직접 사용하는 방법까지 사용했지만 이상하게 key값을 건드리자마자 모든 console 이 날아갔다. 이 문제로 하루 종일 씨름했다. 시간이 애매해서 결국 해결하지 못하고 개인과제를 그대로 올렸다. 왜 오류가 생기는 걸까? 일단 주말에 고민해보다가 안되면 컴퓨터를 포멧하기로 했다. 중간에 경로에 문제라도 있는 걸까?

