## Socket io 2

오늘은 본격적으로 소켓 아이오를 사용하여 채팅방을 구현하였다. 강의를 들으면서 따라가는 중이라 그런지 아직은 어려운 부분은 없다. 하지만 강의는 pug 로 구현하기 때문에 팀원들과 함께 협업하기 위해서 나는 'html'방식으로 프론트를 수정하였다.

```javascript
app.set("view engine", "html");
app.set("views", __dirname + "/public/views");
app.set("io", io);
app.use("/public", express.static(__dirname + "/public"));
app.get("/", (_, res) => {
  res.sendFile(__dirname + "/public/views/facechat.html");
});

```
먼저 pug 라고 쓰여진 부분을 전부 html 로 바꿔주었다. 그리고 실행시켰는데 당연히 오류가 생겼다.

Error: Cannot find module 'html'
Require stack:

html 을 찾을 수 없다고 하자 html을 불러오겠끔 로직을 만들어보았다.

```javascript
const html = require("html");
```

하지만 또 오류가 났다

Error: ENOENT: no such file or directory, stat 'C:\Users\sola4\Desktop\codingstady\Short-Bean\public\views\index.html'

자세히 보니 내가 파일 명을 바꾼걸 깜빡한 것이였다. 파일명을 바꿨다. 하지만 오류메세지가 계속 떴다. 몇번이고 시도하다가 app.js 파일의 문제가 아닌 것 같아서 다른 파일들을 찾아보기 시작했다. 그리고 어이없는 오류를 찾아내었다.

```javascript
{
    "exec" : "babel-node app.js"
}
```

노드몬에서 처음부터 app.js 파일과 연결되어있지 않았다. 다른 파일과 계속 엉뚱하게 연결되고 있어서 저런 오류가 뜬 것 같다. 노드몬 파일을 제대로 수정하니 바로 수정이 되었다. 다행히 pug의 #이름은  html의 id 값과 같아서 수정은 오래 가지 않았다. 

오늘의 교훈 파일 형식을 바꿀 때 한 파일만 보지말고 모든 파일을 전체적으로 보아라.